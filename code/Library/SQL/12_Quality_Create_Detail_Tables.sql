
CREATE TABLE "AccionCorrectora" 
( 
	"OID" bigserial NOT NULL,
	"OID_INFORME_CORRECTOR" int8 NOT NULL,
	"OID_DISCREPANCIA" int8 NOT NULL,
	"TEXTO" varchar,
	"NUMERO" int8 NOT NULL,	
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	CONSTRAINT "ACCION_CORRECTORA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "AccionCorrectora" OWNER TO hangar_admin;
GRANT ALL ON TABLE "AccionCorrectora" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "ActaComite" 
( 
	"OID" bigserial NOT NULL,
	"CODIGO" varchar(255),
	"SERIAL" int8 NOT NULL,
	"TITULO" varchar(255),
	"REVISION" int8 NOT NULL,
	"MOTIVO" varchar,
	"FECHA" date,
	CONSTRAINT "ACTA_COMITE_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "ActaComite" OWNER TO hangar_admin;
GRANT ALL ON TABLE "ActaComite" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Ampliacion" ( 
	"OID" bigserial NOT NULL,
	"OID_INFORME_AMPLIACION" int8 NOT NULL,
	"OID_DISCREPANCIA" int8 NOT NULL,	
	"FECHA_DEBIDA" date NOT NULL,
	"FECHA_CIERRE" date,
	"OBSERVACIONES" varchar,
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,	
	CONSTRAINT "AMPLIACION_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Ampliacion" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Ampliacion" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Area" ( 
	"OID" bigserial NOT NULL,
	"NOMBRE" varchar(255) NOT NULL,	
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"OBSERVACIONES" varchar,	
	CONSTRAINT "AREA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Area" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Area" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Auditoria" ( 
	"OID" bigserial NOT NULL,
	"OID_AUDITOR" int8 NOT NULL,
	"OID_TIPO_AUDITORIA" int8 NOT NULL,
	"OID_PLAN_TIPO" int8 NOT NULL,
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"OID_RESPONSABLE" int8 NOT NULL,
	"FECHA_INICIO" date NOT NULL,
	"FECHA_FIN" date NOT NULL,
	"REFERENCIA" varchar(255),
	"OBSERVACIONES" varchar,	
	"OID_PLAN" int8 NOT NULL,
	"ESTADO" int8 NOT NULL DEFAULT 1,
	"OID_USUARIO_AUDITOR" int8,
	"OID_USUARIO_RESPONSABLE" int8,
	"OID_DEPARTAMENTO_AUDITOR" int8,
	"OID_DEPARTAMENTO_RESPONSABLE" int8,
	"FECHA_COMUNICACION" date,
	CONSTRAINT "AUDITORIA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Auditoria" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Auditoria" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Auditoria_Area" ( 
	"OID" bigserial NOT NULL,
	"OID_AUDITORIA" int8 NOT NULL,
	"OID_AREA" int8 NOT NULL,	
	CONSTRAINT "AUDITORIA_AREA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Auditoria_Area" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Auditoria_Area" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "ClaseAuditoria" ( 
	"OID" bigserial NOT NULL,
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"NUMERO" int8,
	"TIPO" varchar(255),
	"NOMBRE" varchar(255) NOT NULL,
	"OBSERVACIONES" varchar,	
	CONSTRAINT "CLASE_AUDITORIA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "ClaseAuditoria" OWNER TO hangar_admin;
GRANT ALL ON TABLE "ClaseAuditoria" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Criterio" ( 
	"OID" bigserial NOT NULL,
	"OID_TIPO_AUDITORIA" int8 NOT NULL,
	"NOMBRE" varchar(255) NOT NULL,
	"NUMERO" int8 NOT NULL,	
	CONSTRAINT "CRITERIO_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Criterio" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Criterio" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Cuestion" ( 
	"OID" bigserial NOT NULL,
	"OID_TIPO_AUDITORIA" int8 NOT NULL,
	"NUMERO" int8 NOT NULL,
	"TEXTO" varchar NOT NULL,
	"NOTA" varchar,
	"REFERENCIAS" varchar(255),	
	CONSTRAINT "CUESTION_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Cuestion" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Cuestion" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "CuestionAuditoria" ( 
	"OID" bigserial NOT NULL,
	"OID_AUDITORIA" int8 NOT NULL,
	"OID_CUESTION" int8 NOT NULL,
	"NUMERO" int8 NOT NULL,
	"ACEPTADO" bool,	
	"OBSERVACIONES" varchar,
	CONSTRAINT "CUESTION_AUDITORIA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "CuestionAuditoria" OWNER TO hangar_admin;
GRANT ALL ON TABLE "CuestionAuditoria" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Departamento" 
( 
	"OID" bigserial NOT NULL,
	"CODIGO" varchar(255),
	"SERIAL" int8 NOT NULL,
	"NOMBRE" varchar(255),
	"TELEFONOS" varchar(255),
	"FAX" varchar(255),
	"EMAIL" varchar(255),
	CONSTRAINT "DEPARTAMENTO_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Departamento" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Departamento" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Discrepancia" ( 
	"OID" bigserial NOT NULL,
	"OID_INFORME" int8 NOT NULL,	
	"OID_CUESTION" int8 NOT NULL,
	"NUMERO" int8 NOT NULL,
	"TEXTO" varchar,
	"NIVEL" int8 NOT NULL,
	"FECHA_DEBIDA" date NOT NULL,
	"FECHA_AMPLIACION" date NOT NULL,
	"OBSERVACIONES" varchar,
	"FECHA_CIERRE" date,	
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"DISCREPANCIA" boolean DEFAULT true,
	CONSTRAINT "DISCREPANCIA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Discrepancia" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Discrepancia" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "HistoriaAuditoria" 
( 
	"OID" bigserial NOT NULL,
	"OID_AUDITORIA" int8 NOT NULL,
	"OID_EMPLEADO" int8 NOT NULL,
	"ESTADO" int8 NOT NULL,
	"OBSERVACIONES" varchar,
	"FECHA" date,
	"HORA" time,
	CONSTRAINT "HISTORIA_AUDITORIA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "HistoriaAuditoria" OWNER TO hangar_admin;
GRANT ALL ON TABLE "HistoriaAuditoria" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "InformeAmpliacion" ( 
	"OID" bigserial NOT NULL,
	"OID_INFORME_DISCREPANCIA" int8 NOT NULL,
	"FECHA" date NOT NULL,
	"NUMERO" varchar NOT NULL,
	"OBSERVACIONES" varchar,		
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"NOTIFICADO" boolean DEFAULT false,
	"TITULO" varchar,
	"FECHA_CREACION" timestamp without time zone,
	"FECHA_COMUNICACION" date,
	CONSTRAINT "IMFORME_AMPLIACION_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "InformeAmpliacion" OWNER TO hangar_admin;
GRANT ALL ON TABLE "InformeAmpliacion" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "InformeCorrector" ( 
	"OID" bigserial NOT NULL,
	"OID_INFORME_DISCREPANCIA" int8 NOT NULL,
	"FECHA" date NOT NULL,
	"NUMERO" varchar NOT NULL,
	"OBSERVACIONES" varchar,		
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"NOTIFICADO" boolean DEFAULT false,
	"TITULO" varchar,
	"FECHA_CREACION" timestamp without time zone,
	"VALORADO" boolean DEFAULT false,
	"FECHA_COMUNICACION" date,
	CONSTRAINT "INFORME_CORRECTOR_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "InformeCorrector" OWNER TO hangar_admin;
GRANT ALL ON TABLE "InformeCorrector" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "InformeDiscrepancia" ( 
	"OID" bigserial NOT NULL,
	"OID_AUDITORIA" int8 NOT NULL,	
	"FECHA" date NOT NULL,
	"OBSERVACIONES" varchar,
	"NUMERO" varchar NOT NULL,	
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"NOTIFICADO" boolean DEFAULT false,
	"TITULO" varchar,
	"FECHA_CREACION" timestamp without time zone,
	"FECHA_COMUNICACION" date,
	CONSTRAINT "INFORME_DISCREPANCIA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "InformeDiscrepancia" OWNER TO hangar_admin;
GRANT ALL ON TABLE "InformeDiscrepancia" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "PlanAnual" ( 
	"OID" bigserial NOT NULL,
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"NOMBRE" varchar(255) NOT NULL,
	"OBSERVACIONES" varchar,	
	"EDICION" varchar(255),
	"REVISION" varchar(255),
	"FECHA" date NOT NULL,
	"ANO" int8,
	CONSTRAINT "PLAN_ANUAL_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "PlanAnual" OWNER TO hangar_admin;
GRANT ALL ON TABLE "PlanAnual" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "NotificacionInterna" 
( 
	"OID" bigserial NOT NULL,
	"OID_ASOCIADO" int8 NOT NULL,
	"TIPO_ASOCIADO" int8 NOT NULL,
	"CODIGO" varchar(255) NOT NULL,
	"ATENCION" varchar(255),
	"COPIA" varchar(255),
	"SERIAL" int8 NOT NULL,
	"NUMERO" int8 NOT NULL,
	"COMENTARIOS" varchar,
	"ASUNTO" varchar NOT NULL,
	"FECHA" date NOT NULL,
	CONSTRAINT "NOTIFICACION_INTERNA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "NotificacionInterna" OWNER TO hangar_admin;
GRANT ALL ON TABLE "NotificacionInterna" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "Plan_Tipo" ( 
	"OID" bigserial NOT NULL,
	"OID_PLAN" int8 NOT NULL,
	"OID_TIPO" int8 NOT NULL,
	"ORDEN" int8 NOT NULL,
	"ENERO" boolean DEFAULT false,
	"FEBRERO" boolean DEFAULT false,
	"MARZO" boolean DEFAULT false,
	"ABRIL" boolean DEFAULT false,
	"MAYO" boolean DEFAULT false,
	"JUNIO" boolean DEFAULT false,
	"JULIO" boolean DEFAULT false,
	"AGOSTO" boolean DEFAULT false,
	"SEPTIEMBRE" boolean DEFAULT false,
	"OCTUBRE" boolean DEFAULT false,
	"NOVIEMBRE" boolean DEFAULT false,
	"DICIEMBRE" boolean DEFAULT false,
	CONSTRAINT "PLAN_TIPO_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "Plan_Tipo" OWNER TO hangar_admin;
GRANT ALL ON TABLE "Plan_Tipo" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "PuntoActa" 
( 
	"OID" bigserial NOT NULL,
	"OID_ACTA" int8 NOT NULL,
	"CODIGO" varchar(255),
	"SERIAL" int8 NOT NULL,
	"TEXTO" varchar,
	"NUMERO" int8 NOT NULL,
	CONSTRAINT "PUNTO_ACTA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "PuntoActa" OWNER TO hangar_admin;
GRANT ALL ON TABLE "PuntoActa" TO GROUP "HANGAR_ADMINISTRADOR";

CREATE TABLE "TipoAuditoria" ( 
	"OID" bigserial NOT NULL,
	"OID_CLASE_AUDITORIA" int8 NOT NULL,
	"CODIGO" varchar(255) NOT NULL,
	"SERIAL" int8 NOT NULL,
	"NUMERO" int8 NOT NULL,
	"NOMBRE" varchar(255) NOT NULL,
	"DOCUMENTACION" varchar,
	"APRECIACIONES" varchar,
	"TEXTO_INFORME" varchar,	
	"ENERO" boolean DEFAULT false,	
	"FEBRERO" boolean DEFAULT false,
	"MARZO" boolean DEFAULT false,
	"ABRIL" boolean DEFAULT false,
	"MAYO" boolean DEFAULT false,
	"JUNIO" boolean DEFAULT false,
	"JULIO" boolean DEFAULT false,
	"AGOSTO" boolean DEFAULT false,
	"SEPTIEMBRE" boolean DEFAULT false,
	"OCTUBRE" boolean DEFAULT false,
	"NOVIEMBRE" boolean DEFAULT false,
	"DICIEMBRE" boolean DEFAULT false,
	CONSTRAINT "TIPO_AUDITORIA_PK" PRIMARY KEY ("OID")
)WITHOUT OIDS
;
ALTER TABLE "TipoAuditoria" OWNER TO hangar_admin;
GRANT ALL ON TABLE "TipoAuditoria" TO GROUP "HANGAR_ADMINISTRADOR";

ALTER TABLE "AccionCorrectora" ADD CONSTRAINT FK_AccionCorrectora_Discrepancia 
	FOREIGN KEY ("OID_DISCREPANCIA") REFERENCES "Discrepancia" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "AccionCorrectora" ADD CONSTRAINT FK_AccionCorrectora_InformeCorrector 
	FOREIGN KEY ("OID_INFORME_CORRECTOR") REFERENCES "InformeCorrector" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Ampliacion" ADD CONSTRAINT FK_Ampliacion_Discrepancia 
	FOREIGN KEY ("OID_DISCREPANCIA") REFERENCES "Discrepancia" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Ampliacion" ADD CONSTRAINT FK_Ampliacion_InformeAmpliacion 
	FOREIGN KEY ("OID_INFORME_AMPLIACION") REFERENCES "InformeAmpliacion" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Area"
	ADD CONSTRAINT UQ_Area_CODIGO UNIQUE ("CODIGO")
;
ALTER TABLE "Area"
	ADD CONSTRAINT UQ_Area_SERIAL UNIQUE ("SERIAL")
;

ALTER TABLE "Auditoria"
	ADD CONSTRAINT UQ_Auditoria_CODIGO UNIQUE ("CODIGO")
;

ALTER TABLE "Auditoria"
	ADD CONSTRAINT UQ_Auditoria_SERIAL UNIQUE ("SERIAL")
;

ALTER TABLE "Auditoria" ADD CONSTRAINT FK_Auditoria_Empleado 
	FOREIGN KEY ("OID_AUDITOR") REFERENCES "Empleados" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Auditoria" ADD CONSTRAINT FK_Auditoria_Responsable
	FOREIGN KEY ("OID_RESPONSABLE") REFERENCES "Empleados" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Auditoria" ADD CONSTRAINT FK_Auditoria_TipoAuditoria 
	FOREIGN KEY ("OID_TIPO_AUDITORIA") REFERENCES "TipoAuditoria" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Auditoria" ADD CONSTRAINT FK_Auditoria_Plan_Tipo 
	FOREIGN KEY ("OID_PLAN_TIPO") REFERENCES "Plan_Tipo" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Auditoria" ADD CONSTRAINT FK_Auditoria_PlanAnual
	FOREIGN KEY ("OID_PLAN") REFERENCES "PlanAnual" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "0001"."Auditoria" ADD CONSTRAINT FK_Auditoria_User_Auditor
	FOREIGN KEY ("OID_USUARIO_AUDITOR") REFERENCES "COMMON"."User" ("OID") 
ON UPDATE CASCADE ON DELETE RESTRICT;

ALTER TABLE "0001"."Auditoria" ADD CONSTRAINT FK_Auditoria_User_Responsable
	FOREIGN KEY ("OID_USUARIO_RESPONSABLE") REFERENCES "COMMON"."User" ("OID") 
ON UPDATE CASCADE ON DELETE RESTRICT;

ALTER TABLE "Auditoria_Area" ADD CONSTRAINT FK_Auditoria_Area_Area 
	FOREIGN KEY ("OID_AREA") REFERENCES "Area" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Auditoria_Area" ADD CONSTRAINT FK_Auditoria_Area_Auditoria 
	FOREIGN KEY ("OID_AUDITORIA") REFERENCES "TipoAuditoria" ("OID")
ON UPDATE CASCADE ON DELETE CASCADE
;

ALTER TABLE "ClaseAuditoria"
	ADD CONSTRAINT UQ_ClaseAuditoria_CODIGO UNIQUE ("CODIGO")
;
ALTER TABLE "ClaseAuditoria"
	ADD CONSTRAINT UQ_ClaseAuditoria_SERIAL UNIQUE ("SERIAL")
;

ALTER TABLE "Criterio" ADD CONSTRAINT FK_Criterio_TipoAuditoria 
	FOREIGN KEY ("OID_TIPO_AUDITORIA") REFERENCES "TipoAuditoria" ("OID")
ON DELETE CASCADE ON UPDATE CASCADE
;

ALTER TABLE "Cuestion" ADD CONSTRAINT FK_Cuestion_TipoAuditoria 
	FOREIGN KEY ("OID_TIPO_AUDITORIA") REFERENCES "TipoAuditoria" ("OID")
ON DELETE CASCADE ON UPDATE CASCADE
;

ALTER TABLE "CuestionAuditoria" ADD CONSTRAINT FK_CuestionAuditoria_Auditoria 
	FOREIGN KEY ("OID_AUDITORIA") REFERENCES "Auditoria" ("OID")
ON UPDATE CASCADE ON DELETE CASCADE
;

ALTER TABLE "CuestionAuditoria" ADD CONSTRAINT FK_CuestionAuditoria_Cuestion 
	FOREIGN KEY ("OID_CUESTION") REFERENCES "Cuestion" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Discrepancia" ADD CONSTRAINT FK_Discrepancia_InformeDiscrepancia 
	FOREIGN KEY ("OID_INFORME") REFERENCES "InformeDiscrepancia" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;
ALTER TABLE "Discrepancia" ADD CONSTRAINT FK_Discrepancia_CuestionAuditoria 
	FOREIGN KEY ("OID_CUESTION") REFERENCES "CuestionAuditoria" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "HistoriaAuditoria" ADD CONSTRAINT FK_Historia_Auditoria
	FOREIGN KEY ("OID_AUDITORIA") REFERENCES "Auditoria" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "HistoriaAuditoria" ADD CONSTRAINT FK_Historia_Empleado
	FOREIGN KEY ("OID_EMPLEADO") REFERENCES "Empleados" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "InformeAmpliacion" ADD CONSTRAINT FK_InformeAmpliacion_InformeDiscrepancia 
	FOREIGN KEY ("OID_INFORME_DISCREPANCIA") REFERENCES "InformeDiscrepancia" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "InformeCorrector" ADD CONSTRAINT FK_InformeCorrector_InformeDiscrepancia 
	FOREIGN KEY ("OID_INFORME_DISCREPANCIA") REFERENCES "InformeDiscrepancia" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "InformeDiscrepancia" ADD CONSTRAINT FK_InformeDiscrepancia_Auditoria 
	FOREIGN KEY ("OID_AUDITORIA") REFERENCES "Auditoria" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "PlanAnual"
	ADD CONSTRAINT UQ_PlanAnual_CODIGO UNIQUE ("CODIGO")
;
ALTER TABLE "PlanAnual"
	ADD CONSTRAINT UQ_PlanAnual_SERIAL UNIQUE ("SERIAL")
;

ALTER TABLE "Plan_Tipo" ADD CONSTRAINT FK_Plan_Tipo_PlanAnual
	FOREIGN KEY ("OID_PLAN") REFERENCES "PlanAnual" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "Plan_Tipo" ADD CONSTRAINT FK_Plan_Tipo_TipoAuditoria
	FOREIGN KEY ("OID_TIPO") REFERENCES "TipoAuditoria" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "PuntoActa" ADD CONSTRAINT FK_PuntoActa_ActaComite
	FOREIGN KEY ("OID_ACTA") REFERENCES "ActaComite" ("OID")
ON UPDATE CASCADE ON DELETE CASCADE
;

ALTER TABLE "TipoAuditoria" ADD CONSTRAINT FK_TipoAuditoria_ClaseAuditoria 
	FOREIGN KEY ("OID_CLASE_AUDITORIA") REFERENCES "ClaseAuditoria" ("OID")
ON UPDATE CASCADE ON DELETE RESTRICT
;

ALTER TABLE "TipoAuditoria"
	ADD CONSTRAINT UQ_TipoAuditoria_CODIGO UNIQUE ("CODIGO")
;
ALTER TABLE "TipoAuditoria"
	ADD CONSTRAINT UQ_TipoAuditoria_SERIAL UNIQUE ("SERIAL")
;
